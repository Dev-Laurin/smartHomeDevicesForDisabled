{% extends "layout.html" %}
{% block main %}
<div class="container">
	<br> 
	<h1>{{category}}</h1> 
	<br> 
	{% set index = namespace(foo=0) %}
	{% set rows = (devices|length)//3 + 1 %}
	{% for row in range(rows) %}
	<div class="row"> 
		{% for col in range(3) %}
		{% if devices[index.foo] %}
	    <div class="col">
	    	<a href="/getDevice/{{devices[index.foo].id}}" class="card" style="width: 18rem;">
	    	{% if devices[index.foo].image %}
	    		<img class="card-img-top" src="{{devices[index.foo].image}}" alt="Image of device">
	    	{% else %}
			  <svg class="bd-placeholder-img" width="100%" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Image"><title>Placeholder</title><rect width="100%" height="100%" fill="#868e96"></rect><text x="50%" y="50%" fill="#dee2e6" dy=".3em">Image</text></svg>
			  {% endif %}
			  <div class="card-body">
			  	<p class="card-title">{{devices[index.foo].name}}</p>
			    <p class="card-text">
			    	<label><b>Device Rating: </b></label> 
		        	{{devices[index.foo].rating}}
		        	<br> 
		        	<label><b>Price: </b></label> 
		        	${{'%0.2f' % devices[index.foo].price}}
		        	<br> 
		        	<label><b>Controlled by: </b></label> 
		        	{{devices[index.foo].devicecategory}}
		        </p>
			  </div>
			</a>
	    </div>
	    {% set index.foo = index.foo + 1 %}
	    {% endif %}
	    {% endfor %}
	</div>
	{% endfor %}
</div>

{% endblock %}
